(()=>{"use strict";var e={};function t(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","svg"),c=document.createElementNS("http://www.w3.org/2000/svg","path");n.classList.add("svg-icon"),n.setAttribute("fill","none"),n.setAttribute("viewBox","0 0 24 24"),n.setAttribute("stroke","currentColor"),c.setAttribute("d",t),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),n.appendChild(c);const o=document.createElement("span");return o.classList="span-icon",o.appendChild(n),e.appendChild(o)}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var c=n.getElementsByTagName("script");c.length&&(t=c[c.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const n="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z",c="M19 9l-7 7-7-7",o="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z",a="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",s="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",l="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z",r="M12 4v16m8-8H4",i="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z",d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",u="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z",m="M10,0.469c-5.264,0-9.531,4.268-9.531,9.531c0,5.265,4.268,9.531,9.531,9.531c5.265,0,9.531-4.267,9.531-9.531C19.531,4.736,15.265,0.469,10,0.469 M10,18.665c-4.786,0-8.665-3.88-8.665-8.665c0-4.786,3.879-8.665,8.665-8.665V18.665z",p="M15 15l6-6m0 0l-6-6m6 6H9a6 6 0 000 12h3",g=document.querySelector("body"),y=document.createElement("div");function h(e,c){const o=document.createElement("div");o.classList="card flex","false"===e.getStatus()?o.classList.add("completed"):o.classList.remove("completed");const a=document.createElement("div");a.classList="card-aside flex";const l=document.createElement("div");l.classList="card-main";const r=document.createElement("div");r.classList="outer-check";const d=document.createElement("div");d.classList="inner-check",t(d,s),r.appendChild(d),a.append(r);const u=document.createElement("h3");u.classList="card__title",u.textContent=e.getTitle()||"No Title";const m=document.createElement("p");m.classList="card__description",m.textContent=e.getDescription();const p=document.createElement("div");p.classList="card__extras flex";const g=document.createElement("span");g.classList="card__tags flex",t(g,n);const y=e.getTags();for(let e=0;e<y.length;e++){const n=y[e],c=document.createElement("span");if(c.classList="card__tag",c.textContent=n,e<3)g.append(c);else if(3===e){const e=document.createElement("span");e.classList="card__tag ellipsis",t(e,i),g.appendChild(e)}}const h=document.createElement("div");h.classList="card__flag-container flex",t(h,"M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9");const _=document.createElement("span");let E,L=e.getPriority();switch(_.textContent=L,L){case"high":E="high-priority";break;case"medium":E="medium-priority";break;case"low":E="low-priority";break;default:E=""}_.classList=`card__flag ${E}`,h.append(_);const f=document.createElement("span");f.classList="card__project",f.textContent=e.getCategory();const C=document.createElement("div");return C.classList="card__project-color",C.style.backgroundColor=c[e.getCategory()],p.append(g,h,f,C),l.append(u,m,p),o.append(a,l),o}function _(e){const n=document.createElement("div");n.classList="e-card__todo-item flex",n.setAttribute("data-pos",`${e.uniqueId}`),!1===e.status?n.classList.add("completed"):n.classList.remove("completed");const c=document.createElement("div");c.classList="e-card__todo-check";const o=document.createElement("div");o.classList="e-card__todo-check-outer";const l=document.createElement("div");l.classList="e-card__todo-check-inner checklist-done",t(l,s),o.appendChild(l),c.appendChild(o);const r=document.createElement("input");r.setAttribute("maxlength","40"),r.value=e.description||"",r.placeholder="Add list item",r.classList="e-card__todo-text";const i=document.createElement("div");return i.classList="e-card__todo-delete",t(i,a),n.append(c,r,i),n}function E(e,n,c){let s=document.createElement("div");return((e,n)=>{const c=document.createElement("div");c.classList="project-item",c.style.outlineColor=e.Inbox;let o="Inbox",l=(e.Inbox,0),r=0,i=0;n.forEach((e=>{e.getCategory()===o&&(l++,!1===e.getStatus()?r++:i++)}));const d=document.createElement("div");d.classList="project-item-info";const u=document.createElement("p");u.textContent=o,u.classList="project-item-info-name";const m=document.createElement("div");m.classList="project-item-info-stats";const g=document.createElement("div"),y=document.createElement("p");y.textContent="All";const h=document.createElement("span");h.textContent=l,g.append(y,h);const _=document.createElement("div"),E=document.createElement("p");E.textContent="Completed";const L=document.createElement("span");L.textContent=r,_.append(E,L);const f=document.createElement("div"),C=document.createElement("p");C.textContent="Pending";const v=document.createElement("span");v.textContent=i,f.append(C,v);const S=document.createElement("div");S.classList="project-item-action";const x=document.createElement("div");t(x,p),x.classList="project-item-move btn";const b=document.createElement("div");t(b,a),b.classList="project-item-delete btn",S.append(x,b),m.append(g,_,f),d.append(u,m),c.append(d,S),s.append(c)})(e,c),n.forEach((n=>{const l=document.createElement("div");l.classList="project-item",l.style.outlineColor=e[n.getCategoryName()];let r=n.getCategoryName(),i=(e[r],0),d=0,u=0;c.forEach((e=>{e.getCategory()===r&&(i++,!1===e.getStatus()?d++:u++)}));const m=document.createElement("div");m.classList="project-item-info";const g=document.createElement("p");g.textContent=r,g.classList="project-item-info-name";const y=document.createElement("div");y.classList="project-item-info-stats";const h=document.createElement("div"),_=document.createElement("p");_.textContent="All";const E=document.createElement("span");E.textContent=i,h.append(_,E);const L=document.createElement("div"),f=document.createElement("p");f.textContent="Completed";const C=document.createElement("span");C.textContent=d,L.append(f,C);const v=document.createElement("div"),S=document.createElement("p");S.textContent="Pending";const x=document.createElement("span");x.textContent=u,v.append(S,x);const b=document.createElement("div");b.classList="project-item-action";const q=document.createElement("div");t(q,o),q.classList="project-item-rename btn";const k=document.createElement("div");t(k,"M4.098 19.902a3.75 3.75 0 005.304 0l6.401-6.402M6.75 21A3.75 3.75 0 013 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 003.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008z"),k.classList="project-item-color btn";const T=document.createElement("div");t(T,p),T.classList="project-item-move btn";const A=document.createElement("div");t(A,a),A.classList="project-item-delete btn",b.append(q,k,T,A),y.append(h,L,v),m.append(g,y),l.append(m,b),s.append(l)})),s}function L(e,n){let c=document.createElement("div");return e.forEach((e=>{const s=document.createElement("div");s.classList="tag-item";let l=e.getTagName(),r=0,i=0,d=0;n.forEach((e=>{let t=e.getTags();for(let n=t.length-1;n>=0;n--)if(l===t[n]){r++,!1===e.getStatus()?i++:d++;break}}));const u=document.createElement("div");u.classList="tag-item-info";const m=document.createElement("p");m.textContent=l,m.classList="tag-item-info-name";const p=document.createElement("div");p.classList="tag-item-info-stats";const g=document.createElement("div"),y=document.createElement("p");y.textContent="All";const h=document.createElement("span");h.textContent=r,g.append(y,h);const _=document.createElement("div"),E=document.createElement("p");E.textContent="Completed";const L=document.createElement("span");L.textContent=i,_.append(E,L);const f=document.createElement("div"),C=document.createElement("p");C.textContent="Pending";const v=document.createElement("span");v.textContent=d,f.append(C,v);const S=document.createElement("div");S.classList="tag-item-action";const x=document.createElement("div");t(x,o),x.classList="tag-item-rename btn";const b=document.createElement("div");t(b,a),b.classList="tag-item-delete btn",S.append(x,b),p.append(g,_,f),u.append(m,p),s.append(u,S),c.append(s)})),c}y.className="app",y.id="app",g.appendChild(y),y.append(function(){const e=document.createElement("aside");e.classList="aside";const c=document.createElement("div");c.className="logo";const o=document.createElement("h1");o.textContent=".dolist",c.appendChild(o);const a=document.createElement("nav");a.classList="nav";const s=document.createElement("menu");function i(e,n){const c=document.createElement("li");c.classList=e.toLowerCase(),c.id=e.toLowerCase();const o=t(c,n);o.setAttribute("for",c.id);const a=document.createElement("p");return a.textContent=e,c.append(o,a),c}a.appendChild(s);const d=i("Overview","M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"),u=i("Today","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"),m=i("Inbox","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"),p=i("Projects","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"),g=document.createElement("li");g.classList="project-ul-container",g.style.display="none";const y=document.createElement("ul");y.classList="project-ul";const h=document.createElement("div");h.classList="add-project-btn flex",t(h,l);const _=document.createElement("input");_.classList="add-input",_.placeholder="Add New";const E=document.createElement("div");E.classList="color-wrapper flex";const L=document.createElement("input");L.setAttribute("type","color"),L.classList="color-selector",E.appendChild(L),L.value=function(){for(var e="0123456789ABCDEF".split(""),t="#",n=0;n<6;n++)t+=e[Math.round(15*Math.random())];return t}();const f=document.createElement("button");t(f,r),f.classList="project-okay-btn flex",h.append(_),h.append(E),h.append(f),g.append(y,h);const C=i("Tags",n),v=document.createElement("li");v.classList="tag-ul-container",v.style.display="none";const S=document.createElement("ul");S.classList="tag-ul flex";const x=document.createElement("div");x.classList="add-tag-btn flex",t(x,l);const b=document.createElement("input");b.classList="add-input",b.placeholder="Add New";const q=document.createElement("button");t(q,r),q.classList="tag-okay-btn flex",x.append(b),x.append(q),v.append(S,x),s.append(d,u,m,p,g,C,v);const k=document.createElement("div");k.className="extra";const T=document.createElement("menu");k.appendChild(T);const A=i("Settings","M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4");return T.append(A),e.append(c,a,k),e}(),function(){const e=document.createElement("main");e.classList="main";const n=document.createElement("header");n.classList="header";const o=document.createElement("div");o.classList="menu-btn",t(o,"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"),o.style.display="none";const a=document.createElement("div");a.classList="search-container flex";const s=document.createElement("label");s.setAttribute("for","search-bar"),t(s,"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z");const l=document.createElement("input");l.setAttribute("type","search"),l.setAttribute("name","search"),l.setAttribute("id","search-bar"),l.setAttribute("placeholder","Search"),a.append(s,l);const r=document.createElement("div");r.classList="theme flex dropdown dropdown-select";const i=document.createElement("div");i.classList="theme-icon",t(i,d);const p=document.createElement("p");p.textContent="Theme";const g=document.createElement("div");g.classList="list";const y=document.createElement("ul"),h=document.createElement("li");h.classList="flex theme-system",t(h,m);const _=document.createElement("p");_.textContent="System",h.append(_);const E=document.createElement("li");E.classList="flex theme-dark",t(E,u);const L=document.createElement("p");L.textContent="Dark",E.append(L);const f=document.createElement("li");f.classList="flex theme-light",t(f,d);const C=document.createElement("p");C.textContent="Light",f.append(C),y.append(h,f,E),g.appendChild(y),r.append(i,p,g);const v=document.createElement("div");v.classList="question",t(v,"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z");const S=document.createElement("div");S.classList="notification",t(S,"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9");const x=document.createElement("div");x.classList="user-name flex dropdown dropdown-select";const b=document.createElement("p");b.textContent="Orobosa Ikpon",x.appendChild(b),t(x,c);const q=document.createElement("div");q.classList="list";const k=document.createElement("ul"),T=document.createElement("li");T.classList="flex users demo",T.setAttribute("data-user","demo");const A=document.createElement("p");T.append(A);const w=document.createElement("li");w.classList="flex users user",w.setAttribute("data-user","user1");const I=document.createElement("p");w.append(I);const M=document.createElement("li");M.classList="flex users user1",M.setAttribute("data-user","user2");const N=document.createElement("p");M.append(N),k.append(T,w,M),q.appendChild(k),x.append(q);const j=document.createElement("div");j.classList="user-picture";const D=new Image;D.alt="User Image",j.appendChild(D),n.append(o,a,r,v,S,x,j);const $=document.createElement("section");$.classList="main-section";const H=document.createElement("div");H.classList="title-container flex";const P=document.createElement("div");P.classList="title";const B=document.createElement("h2");B.textContent="Projects",P.appendChild(B);const O=document.createElement("div");O.classList="sort-time flex";const V=document.createElement("p");V.textContent="This Week",O.appendChild(V),t(O,c);const U=document.createElement("div");U.classList="tasks-list";const z=document.createElement("div");z.classList="list-heading flex",z.textContent="Tasks";const R=document.createElement("h3"),J=document.createElement("span");J.textContent="2",z.append(R,J);const F=document.createElement("div");F.classList="btn-div";const Y=document.createElement("button");return Y.classList="btn btn-add",Y.textContent="+",F.append(Y),U.append(z,F),U.append(function(){const e=document.createElement("div");e.classList="flex list-card-container";const n=document.createElement("div");n.classList="flex card-container",e.appendChild(n);const o=document.createElement("div");o.classList="uncompleted-tasks tasks";const a=document.createElement("div");a.classList="completed-tasks-list flex";const s=document.createElement("div");s.classList="list-heading flex";const l=document.createElement("h3");l.textContent="Completed";const r=document.createElement("span");r.textContent="0";const i=document.createElement("div");i.classList="completed-icon",t(i,c),s.append(l,r,i);const d=document.createElement("div");d.classList="completed-tasks tasks";const u=document.createElement("div");return u.classList="completed-tasks-wrapper",u.appendChild(d),a.append(s,u),n.append(o,a),e}()),H.append(P,O),$.append(H,U),e.append(n,$),e}());let f=[];function C(){return{getTodoItemList:()=>f,setTodoItemList:e=>{f=e},createTodoItem:()=>{const e=((...e)=>{let t="",n="",c=v(),o=v(),a="",s="Inbox",l="",r=!0,i=String(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,""),d=[],u=[];return{getUniqueId:()=>i,setUniqueId:e=>{i=e},getStatus:()=>r,setStatus:e=>{r=e},toggleStatus:()=>{r=!0!==r},getTitle:()=>t,setTitle:e=>{t=e},getDescription:()=>n,setDescription:e=>{n=e},getDueDate:()=>c,setDueDate:e=>{c=e},getCreationDate:()=>o,setCreationDate:e=>{o=e},getPriority:()=>a,setPriority:e=>{a=e},getTags:()=>d,setTags:e=>{d=e},addTag:e=>{d.push(e)},deleteTag:e=>{for(let t=d.length-1;t>=0;t--)t===e&&d.splice(t,1)},getCategory:()=>s,setCategory:e=>{s=e},getNote:()=>l,setNote:e=>{l=e},getCheckLists:()=>u,setCheckLists:e=>{u=e},addCheckList:e=>{let t={};return t.description=e,t.status=!0,t.uniqueId=String(Date.now().toString(32)+Math.random().toString(16)).replace(/\./g,""),u.push(t),t},deleteCheckList:e=>{for(let t=u.length-1;t>=0;t--)t===e&&u.splice(t,1)}}})();return f.push(e),e},deleteTodoItem:e=>{for(let t=f.length-1;t>=0;t--)t===e&&f.splice(t,1)}}}function v(){const e=new Date,t=("0"+e.getDate()).slice(-2),n=("0"+e.getMonth()).slice(-2);return`${e.getFullYear()}-${n}-${t}`}const S=(e,t)=>{f.forEach((n=>{n.getCategory()===e&&n.setCategory(t)}))};let x=[];function b(){return{createCategory:(e,t)=>{const n=((e,t)=>{let n=e,c=t||function(){for(var e="0123456789ABCDEF".split(""),t="#",n=0;n<6;n++)t+=e[Math.round(15*Math.random())];return t}();return{getCategoryName:()=>n,changeCategoryName:e=>{S(n,e),n=e},getCategoryColor:()=>c,setCategoryColor:e=>{c=e},createTodoItemInList:()=>{C().createTodoItem({category:n})}}})(e,t);return x.push(n),n},deleteCategory:(e,t)=>{if(t){for(let t=x.length-1;t>=0;t--)x[t].getCategoryName()===e&&x.splice(t,1);for(let t=f.length-1;t>=0;t--)f[t].getCategory()===e&&f.splice(t,1)}else{for(let t=x.length-1;t>=0;t--)x[t].getCategoryName()===e&&x.splice(t,1);S(e,"Inbox")}},getCategories:()=>x,setCategories:e=>{x=e},renameCategory:(e,t)=>{for(let n=x.length-1;n>=0;n--)x[n].getCategoryName()===e&&x[n].changeCategoryName(t)},moveCategory:(e,t)=>{S(e,t)},changeCategoryColor:(e,t)=>{for(let n=x.length-1;n>=0;n--)x[n].getCategoryName()===e&&x[n].setCategoryColor(t)}}}const q=C().getTodoItemList();let k=[];function T(){return{createTag:e=>{const t=(e=>{let t=e;return{getTagName:()=>t,tagTodo:()=>{const e=[];return q.forEach(((n,c)=>{const o=n.getTags();for(let c=0;c<o.length;c++)if(o[c].toLowerCase()===t.toLowerCase()){e.push(n);break}})),e},changeTagName:e=>{t=e}}})(e);return k.push(t),t},deleteTag:(e,t=!1)=>{for(let t=k.length-1;t>=0;t--)k[t].getTagName()===e&&k.splice(t,1);if(t)for(let t=f.length-1;t>=0;t--)f[t].getTags().includes(e)&&f.splice(t,1);else for(let t=f.length-1;t>=0;t--)f[t].getTags().forEach(((n,c)=>{n===e&&f[t].getTags().splice(t,1)}))},getTags:()=>k,setTags:e=>{k=e},renameTag:(e,t)=>{for(let n=k.length-1;n>=0;n--)k[n].getTagName()===e&&k[n].changeTagName(t);f.forEach((n=>{n.getTags().forEach((n=>{n===e&&(n=t)}))}))}}}const A=e.p+"3ef0381db7ddc2ccc4ea.png",w=e.p+"1b1ece4206b6ecd15166.png",I=e.p+"344253d794154cde1033.jpg";function M(e,t,n="Cancel",c="Okay"){const o=document.querySelector("#app"),a=document.createElement("div");a.classList="dialogue__background";const s=document.createElement("div");s.classList="dialogue__box";const l=document.createElement("h2");l.classList="dialogue__title",l.textContent=e;const r=document.createElement("input");r.setAttribute("type","text"),r.classList="dialogue__textBox";const i=document.createElement("div");i.classList="dialogue__buttons";const d=document.createElement("div");d.classList="dialogue__button--cancel btn",d.textContent=n;const u=document.createElement("div");u.classList="dialogue__button--okay btn",u.textContent=c,i.append(d,u),s.append(l,r,i),a.append(s),o.append(a);const m=document.querySelector(".dialogue__box"),p=document.querySelector(".dialogue__background");m.addEventListener("click",(function(e){let n;e.target.classList.contains("dialogue__button--okay")&&(n=document.querySelector(".dialogue__textBox").value,p.remove(),t(n)),e.target.classList.contains("dialogue__button--cancel")&&p.remove()}))}function N(e,n=!1,c,o,a,l="Cancel",r="Okay"){const i=document.querySelector("#app"),d=document.createElement("div");d.classList="dialogue__background";const u=document.createElement("div");u.classList="dialogue__box";const m=document.createElement("h2");m.classList="dialogue__title",m.textContent=e;const p=document.createElement("div");p.classList="dialogue__secondary",p.style.display=n?"flex":"none";const g=document.createElement("div");g.classList="outer-check";const y=document.createElement("div");y.classList="inner-check",t(y,s),g.appendChild(y);const h=document.createElement("p");h.classList="dialogue-secondary-description",h.textContent=c,p.append(g,h);const _=document.createElement("div");_.classList="dialogue__buttons";const E=document.createElement("div");E.classList="dialogue__button--cancel btn",E.textContent=l;const L=document.createElement("div");L.classList="dialogue__button--okay btn",L.textContent=r,_.append(E,L),u.append(m,p,_),d.append(u),i.append(d);const f=document.querySelector(".dialogue__box"),C=document.querySelector(".dialogue__background");f.addEventListener("click",(function(e){(e.target.classList.contains("outer-check")||e.target.classList.contains("dialogue-secondary-description"))&&u.classList.toggle("completed"),e.target.classList.contains("dialogue__button--okay")&&(f.classList.contains("completed")?a():o(),C.remove()),e.target.classList.contains("dialogue__button--cancel")&&C.remove()}))}const j=document.createElement("div");j.classList="empty-bg fade-in";const D=window.matchMedia("(min-width: 1px) and (max-width: 480px)"),$=window.matchMedia("(min-width: 480px) and (max-width: 780px)"),H=window.matchMedia("(min-width: 780px) and (max-width: 1024px)"),P=window.matchMedia("(min-width: 1025px)");function B(){const e=document.querySelector(".aside"),t=document.querySelector(".extra"),n=document.querySelector(".logo"),c=document.querySelector(".theme"),o=document.querySelector(".user-name"),a=document.querySelector(".user-picture");document.querySelector(".menu-btn").style.display="flex",e.classList="aside aside-pop slide-in",e.style.display="none",t.prepend(c),n.append(o,a),Array.from(document.querySelectorAll(".card__tags .card__tag")).forEach((e=>e.remove())),Array.from(document.querySelectorAll(".card")).forEach((e=>{const t=e.querySelector(".card__tags");let n=e.dataset.pos;f.forEach((e=>{if(e.getUniqueId()===n){const n=document.createElement("span");n.classList="card__tag",n.textContent=e.getTags().length,t.appendChild(n)}}))}))}function O(){const e=document.querySelector(".header"),n=document.querySelector(".aside"),c=document.querySelector(".logo"),o=document.querySelector(".theme"),a=document.querySelector(".question"),s=document.querySelector(".user-name"),l=document.querySelector(".user-picture");document.querySelector(".menu-btn").style.display="flex",n.classList="aside aside-pop slide-in",n.style.display="none",e.insertBefore(o,a),c.append(s,l),Array.from(document.querySelectorAll(".card__tags .card__tag")).forEach((e=>e.remove())),Array.from(document.querySelectorAll(".card")).forEach((e=>{const n=e.querySelector(".card__tags");let c=e.dataset.pos;f.forEach((e=>{e.getUniqueId()===c&&e.getTags().forEach(((c,o)=>{if(o<3){const t=document.createElement("span");t.classList="card__tag",t.textContent=e.getTags()[o],n.append(t)}else if(3===o){const e=document.createElement("span");e.classList="card__tag ellipsis",t(e,i),n.appendChild(e)}}))}))}))}function V(){const e=document.querySelector(".header"),n=document.querySelector(".aside"),c=document.querySelector(".theme"),o=document.querySelector(".question"),a=document.querySelector(".user-name"),s=document.querySelector(".user-picture");document.querySelector(".menu-btn").style.display="flex",n.classList="aside aside-pop slide-in",n.style.display="none",e.insertBefore(c,o),e.append(a,s),Array.from(document.querySelectorAll(".card__tags .card__tag")).forEach((e=>e.remove())),Array.from(document.querySelectorAll(".card")).forEach((e=>{const n=e.querySelector(".card__tags");let c=e.dataset.pos;f.forEach((e=>{e.getUniqueId()===c&&e.getTags().forEach(((c,o)=>{if(o<5){const t=document.createElement("span");t.classList="card__tag",t.textContent=e.getTags()[o],n.append(t)}else if(3===o){const e=document.createElement("span");e.classList="card__tag ellipsis",t(e,i),n.appendChild(e)}}))}))}))}function U(){const e=document.querySelector(".menu-btn"),n=document.querySelector(".header"),c=document.querySelector(".aside"),o=document.querySelector(".theme"),a=document.querySelector(".question"),s=document.querySelector(".user-name"),l=document.querySelector(".user-picture");c.style.display="flex",c.classList="aside",e.style.display="none",j.style.display="none",n.insertBefore(o,a),n.append(s,l),Array.from(document.querySelectorAll(".card__tags .card__tag")).forEach((e=>e.remove())),Array.from(document.querySelectorAll(".card")).forEach((e=>{const n=e.querySelector(".card__tags");let c=e.dataset.pos;f.forEach((e=>{e.getUniqueId()===c&&e.getTags().forEach(((c,o)=>{if(o<5){const t=document.createElement("span");t.classList="card__tag",t.textContent=e.getTags()[o],n.append(t)}else if(3===o){const e=document.createElement("span");e.classList="card__tag ellipsis",t(e,i),n.appendChild(e)}}))}))}))}D.addEventListener("change",(e=>{e.matches&&B()})),$.addEventListener("change",(e=>{e.matches&&O()})),H.addEventListener("change",(e=>{e.matches&&V()})),P.addEventListener("change",(e=>{e.matches&&U()})),document.addEventListener("click",(e=>{const t=document.querySelector("#app"),n=document.querySelector(".aside");e.target.classList.contains("menu-btn")&&(t.appendChild(j),j.style.display="block",n.classList="aside aside-pop slide-in",n.style.display="flex"),e.target.classList.contains("empty-bg")&&(n.classList="aside aside-pop slide-out",setTimeout((()=>{n.style.display="none"}),550),j.style.display="none",j.remove())}));let z,R,J,F,Y=function(){let e={};const t=getComputedStyle(document.querySelector("html")).getPropertyValue("--color-3");e.Inbox=t;for(let t=0;t<x.length;t++){const n=x[t];e[n.getCategoryName()]=n.getCategoryColor()}return e};const W=document.querySelectorAll("menu li"),G=document.querySelector("#overview"),K=document.querySelector("#today"),Q=document.querySelector("#inbox"),X=document.querySelector("#projects"),Z=document.querySelector("#tags"),ee=document.querySelector("#settings"),te=document.querySelector("#search-bar"),ne=document.querySelector(".title h2"),ce=document.querySelector(".btn-add"),oe=document.querySelector(".uncompleted-tasks"),ae=document.querySelector(".completed-tasks"),se=window.matchMedia("(prefers-color-scheme: dark)");function le(){let e=JSON.stringify(Ve()),t=localStorage.getItem("active");localStorage.setItem(`${t}`,`${e}`)}se.addEventListener("change",(e=>{me(e.matches)})),me(se.matches),document.addEventListener("click",(e=>{if(ie(e),de(e),console.log(e.target.classList),e.target.classList.contains("user-name"))Oe(),re();else{let o=document.querySelector(".user-name .list");document.querySelector(".user-name .span-icon").classList.remove("rotate90"),o.style.height="0",setTimeout((()=>{o.style.opacity=0,o.style.visibility="hidden"}),300)}if(e.target.classList.contains("users")){we();let a=e.target.dataset.user;He.active=a,le();document.querySelector(".project-ul").replaceChildren();document.querySelector(".tag-ul").replaceChildren(),localStorage.setItem("active",`${a}`),Be()}if(e.target.classList.contains("user-picture")||e.target.classList.contains("settings__picture")){app.append(function(e){const n=document.querySelector(`.${e} img`),c=document.createElement("div");c.classList="e-card-blur fade-in";const o=document.createElement("div");o.classList="expanded-image e-card-bg pop-open";const a=new Image;a.src=n.src,a.alt="User Image",o.appendChild(a),c.appendChild(o);const s=document.createElement("div");s.classList="e-card__close btn";return t(s,"M6 18L18 6M6 6l12 12"),o.appendChild(s),c}("user-picture"));let s=document.querySelector(".e-card-blur");s.style.zIndex=1001,s.addEventListener("click",(e=>{if(e.target.classList.contains("e-card-blur")||e.target.classList.contains("e-card__close")){s.classList.add("fade-out"),document.querySelector(".e-card-blur > div").classList.add("pop-close"),setTimeout((()=>{s.remove()}),550)}}))}function n(){he(f),_e(x),fe(k),le();document.querySelector(".settings__project-list").replaceChildren(E(Y(),x,f));document.querySelector(".settings__tag-list").replaceChildren(L(k,f))}if(e.target.classList.contains("project-item-delete")){let l=e.target.parentElement.parentElement.firstChild.firstChild.textContent;function r(){b().deleteCategory(l,!1),n()}function i(){b().deleteCategory(l,!0),n()}N("This will delete "+l+" project and move the tasks to Inbox",!0,"Delete the "+l+" project and all tasks in it",r,i,"Cancel","Okay")}if(e.target.classList.contains("tag-item-delete")){let d=e.target.parentElement.parentElement.firstChild.firstChild.textContent;function u(){T().deleteTag(d,!1),n()}function m(){T().deleteTag(d,!0),n()}N("This will delete "+d+" from the tags list and remove it from any task it is in",!0,"Delete the list and all tasks having "+d+" tag",u,m)}if(e.target.classList.contains("project-item-move")){let p="",g=e.target.parentElement.parentElement.firstChild.firstChild.textContent;function y(){""===p?b().moveCategory(g,g):b().moveCategory(g,p),n()}function h(e){p=e,N("Are you sure you want to move all tasks in "+g+" to "+p+"?",!1,"",y,null,"Cancel","Move")}!function(e,n,o,a,s="Cancel",l="Okay"){const r=document.querySelector("#app"),i=document.createElement("div");i.classList="dialogue__background";const d=document.createElement("div");d.classList="dialogue__box";const u=document.createElement("h2");u.classList="dialogue__title",u.textContent=e;const m=document.createElement("div"),p=document.createElement("p");m.appendChild(p);const g=document.createElement("span");t(g,c),m.appendChild(g),p.textContent=n,m.classList="e-card__category dialogue__dropdown dropdown-select dropdown";const y=document.createElement("div");y.classList="list";const h=document.createElement("ul");h.classList="e-card__category-container",y.appendChild(h),function(e){const t=document.createElement("li");t.classList="e-card__category-item",t.textContent="Inbox",t.style.outlineColor=Y[t.textContent],e.appendChild(t),o.forEach((t=>{const n=document.createElement("li");n.classList="e-card__category-item",n.textContent=t.getCategoryName(),n.style.outlineColor=Y[n.textContent],e.appendChild(n)}))}(h),m.appendChild(y),m.addEventListener("click",(function(e){const t=document.querySelector(".e-card__category .list"),n=document.querySelector(".e-card__category .span-icon");if(e.target.classList.contains("e-card__category")?function(){document.querySelector(".e-card__category");const e=document.querySelector(".e-card__category .list");document.querySelector(".e-card__category .span-icon").classList.toggle("rotate90");let t=document.querySelector(".e-card__category ul");e.clientHeight<=10?(e.style.height=`${t.getBoundingClientRect().height+e.clientHeight}px`,e.style.opacity=1,e.style.visibility="visible"):(e.style.height="0",setTimeout((()=>{e.style.opacity=0,e.style.visibility="hidden"}),300))}():e.target.classList.contains("e-card__category")||(t.style.height="0",setTimeout((()=>{t.style.opacity=0,t.style.visibility="hidden"}),300),n.classList.remove("rotate90")),e.target.classList.contains("e-card__category-item")){const t=document.querySelector(".e-card__category"),n=document.querySelector(".e-card__category p");t.style.outlineColor=Y()[e.target.textContent],n.textContent=e.target.textContent+""}}));const _=document.createElement("div");_.classList="dialogue__buttons";const E=document.createElement("div");E.classList="dialogue__button--cancel btn",E.textContent=s;const L=document.createElement("div");L.classList="dialogue__button--okay btn",L.textContent=l,_.append(E,L),d.append(u,m,_),i.append(d),r.append(i);const f=document.querySelector(".dialogue__box"),C=document.querySelector(".dialogue__background");f.addEventListener("click",(function(e){let t;e.target.classList.contains("dialogue__button--okay")&&(t=document.querySelector(".dialogue__dropdown p").textContent,C.remove(),a(t)),e.target.classList.contains("dialogue__button--cancel")&&C.remove()}))}("Select the project you want to move all the tasks in this list to:",g,x,h,"Cancel","move")}if(e.target.classList.contains("project-item-rename")){let _="",C=e.target.parentElement.parentElement.firstChild.firstChild.textContent;function v(){""===_?b().renameCategory(C,C):b().renameCategory(C,_),n()}function S(e){_=e,N("Are you sure you want to rename the project from "+C+" to "+_+"?",!1,"",v,null,"Cancel","Rename")}M("Enter new name:",S,"Cancel","Rename")}if(e.target.classList.contains("project-item-color")){let q=e.target.parentElement.parentElement.firstChild.firstChild.textContent;function A(e){""!==e&&b().changeCategoryColor(q,e),n()}!function(e,t,n="Cancel",c="Okay"){const o=document.querySelector("#app"),a=document.createElement("div");a.classList="dialogue__background";const s=document.createElement("div");s.classList="dialogue__box";const l=document.createElement("h2");l.classList="dialogue__title",l.textContent=e;const r=document.createElement("input");r.setAttribute("type","color"),r.classList="dialogue__colorBox";const i=document.createElement("div");i.classList="dialogue__buttons";const d=document.createElement("div");d.classList="dialogue__button--cancel btn",d.textContent=n;const u=document.createElement("div");u.classList="dialogue__button--okay btn",u.textContent=c,i.append(d,u),s.append(l,r,i),a.append(s),o.append(a);const m=document.querySelector(".dialogue__box"),p=document.querySelector(".dialogue__background");m.addEventListener("click",(function(e){let n;e.target.classList.contains("dialogue__button--okay")&&(n=document.querySelector(".dialogue__colorBox").value,p.remove(),t(n)),e.target.classList.contains("dialogue__button--cancel")&&p.remove()}))}("Select new color:",A,"Cancel","Okay")}if(e.target.classList.contains("tag-item-rename")){let w="",I=e.target.parentElement.parentElement.firstChild.firstChild.textContent;function j(){""===w?T().renameTag(I,I):T().renameTag(I,w),n()}function D(e){w=e,N("Are you sure you want to rename this tag from "+I+" to "+w+"?",!1,"",j,null,"Cancel","Rename")}M("Enter new name:",D,"Cancel","Rename")}if(e.target.classList.contains("settings__name-edit")){let $="",H=Me.name;function P(){Me.name=""===$?H:$,document.querySelector(".settings__name h1").textContent=$,le(),Oe(),n()}function B(e){$=e,N("Are you sure you want to change your name from "+H+" to "+$+"?",!1,"",P,null,"Cancel","Rename")}M("Enter new name:",B,"Cancel","Rename")}if(e.target.classList.contains("color-select__color")){Array.from(document.querySelectorAll(".color-select__color")).forEach((e=>{e.classList.remove("color-selected")}));let O=e.target.dataset.accent;e.target.classList.add("color-selected"),Ne(O),Me.color=O,le()}e.target.classList.contains("settings__reset-button")&&function(){JSON.stringify(Ve());let e=localStorage.getItem("active");N("This will delete all tasks, projects, tags and set all data for this User back to default. Are you sure?",!1,"",(function(){Pe("demo"===e?je:"user1"===e?De:$e),ye(f),_e(x),fe(k),document.querySelector(".settings-page-bg").remove()}),"","Cancel","Reset")}()}));const re=e=>{let t=document.querySelector(".user-name .list");document.querySelector(".user-name ul");document.querySelector(".user-name .span-icon").classList.toggle("rotate90"),t.clientHeight<=10?(t.style.height="10.4rem",t.style.opacity=1,t.style.visibility="visible"):(t.style.height="0",setTimeout((()=>{t.style.opacity=0,t.style.visibility="hidden"}),300))},ie=e=>{let t=document.querySelector(".theme .list");e.target.classList.contains("theme")&&t.clientHeight<=10?(t.style.height="11rem",t.style.opacity=1,t.style.visibility="visible"):(t.style.height="0",setTimeout((()=>{t.style.opacity=0,t.style.visibility="hidden"}),300))},de=e=>{e.target.classList.contains("theme-dark")?(pe(),le()):e.target.classList.contains("theme-light")?(ge(),le()):e.target.classList.contains("theme-system")&&(me(se.matches),le())};function ue(e){"light"===e?ge():"dark"===e?pe():me()}function me(e){const t=document.querySelector("html"),n=document.querySelector(".theme-icon");document.querySelector(".theme-icon path").setAttribute("d",m),n.classList="theme-icon theme-system",t.dataset.theme=e?"dark":"light"}function pe(){const e=document.querySelector("html"),t=document.querySelector(".theme-icon"),n=document.querySelector(".theme-icon path");e.dataset.theme="dark",n.setAttribute("d",u),t.classList="theme-icon theme-dark"}function ge(){const e=document.querySelector("html"),t=document.querySelector(".theme-icon"),n=document.querySelector(".theme-icon path");e.dataset.theme="light",n.setAttribute("d",d),t.classList="theme-icon theme-light"}function ye(e){F="Overview",ke(),Ae(),Te(),G.classList.add("selected-menu"),ne.textContent="All Tasks";J=function(){C().createTodoItem(),be(f.length-1),Se(f[f.length-1])},z=()=>f,ve(e)}function he(e){F="Today",ke(),Ae(),Te(),ne.textContent="Today",K.classList.add("selected-menu");let t=function(){const e=new Date,t=("0"+e.getDate()).slice(-2),n=("0"+e.getMonth()).slice(-2);return`${e.getFullYear()}-${n}-${t}`}();J=function(){C().createTodoItem(),be(f.length-1),Se(f[f.length-1])},z=()=>e.filter((e=>e.getDueDate()===t)),ve(z())}function _e(e){const t=document.querySelector(".project-ul");t.replaceChildren();for(let n=0;n<e.length;n++){const c=e[n],o=Ee(c.getCategoryName(),c.getCategoryColor());t.append(o)}}function Ee(e,t){const n=document.createElement("li"),c=document.createElement("div");c.style.backgroundColor=t;const o=document.createElement("p");return o.textContent=e,n.append(c,o),n}function Le(){Array.from(document.querySelectorAll(".project-ul li")).forEach(((e,t)=>{e.addEventListener("click",(()=>{we(),ke();const n=x[t].getCategoryName();F="Project: "+n,ne.textContent=F,e.classList.add("selected-menu");let c=function(){return f.filter((e=>e.getCategory()===n))};J=function(){C().createTodoItem(),f[f.length-1].setCategory(n),be(f.length-1),Se(f[f.length-1])},z=c,ve(c())}))}))}function fe(e){const t=document.querySelector(".tag-ul");t.replaceChildren();for(let n=0;n<e.length;n++){const c=e[n].getTagName(),o=document.createElement("li");o.textContent=c,t.append(o)}}function Ce(){Array.from(document.querySelectorAll(".tag-ul li")).forEach(((e,t)=>{e.addEventListener("click",(n=>{we(),ke();const c=()=>{const e=[];return f.forEach(((t,n)=>{const c=t.getTags();for(let n=0;n<c.length;n++)if(c[n]===o){e.push(t);break}})),e},o=k[t].getTagName();F="Tag: "+o,ne.textContent=F,e.classList.add("tag-selected");J=function(){C().createTodoItem(),f[f.length-1].addTag(o),be(f.length-1),Se(f[f.length-1])},z=c,ve(c())}))}))}function ve(e){oe.replaceChildren(),ae.replaceChildren();let t=0,n=0;for(let c=e.length-1;c>=0;c--){let o=e[c];if(!0===o.getStatus()){t++;const e=h(o,Y());e.setAttribute("data-pos",`${o.getUniqueId()}`),oe.append(e),e.classList.remove("completed")}else{n++;const e=h(o,Y());e.setAttribute("data-pos",`${o.getUniqueId()}`),ae.append(e),e.classList.add("completed")}le()}document.querySelector(".list-heading span").textContent=t,document.querySelector(".completed-tasks-list span").textContent=n;let c=Array.from(document.querySelectorAll(".card"));c.forEach(((e,t)=>{e.addEventListener("click",(n=>{if(n.target.classList.contains("outer-check"))for(let n=f.length-1;n>=0;n--){const o=f[n].getUniqueId();if(e.dataset.pos===o){f[n].toggleStatus(),c[t].classList.toggle("completed"),setTimeout((()=>{ve(z())}),1e3);break}}else for(let t=f.length-1;t>=0;t--){const n=f[t].getUniqueId();if(e.dataset.pos===n){be(t);break}}}))})),D.matches?B():$.matches?O():H.matches?V():P.matches&&U()}function Se(e){const t=document.querySelector(".e-card__cancel"),n=document.querySelector(".e-card__close"),c=(document.querySelector(".e-card__save"),document.querySelector(".e-card-blur"));t.addEventListener("click",(()=>{f.pop(),c.remove()})),n.addEventListener("click",(()=>{f.pop(),c.remove()}))}function xe(e){const n=f[e],c=document.querySelector(".e-card-blur"),o=document.querySelector(".e-card-bg"),a=JSON.parse(JSON.stringify(n.getCheckLists())),s=JSON.parse(JSON.stringify(n.getTags())),l=document.querySelector(".e-card__category .list"),r=document.querySelector(".tag-list-btn .list"),d=document.querySelector(".e-card__category .span-icon");function u(){const e=n.getCheckLists(),t=document.querySelectorAll(".e-card__todo-item input");let c=[];Array.from(t).forEach((e=>{c.unshift(e.value||"")})),e.forEach(((t,n)=>{e[n].description=c[n]}))}o.addEventListener("click",(function(m){if(m.target.classList.contains("e-card__category")?function(){document.querySelector(".e-card__category");const e=document.querySelector(".e-card__category .list");document.querySelector(".e-card__category .span-icon").classList.toggle("rotate90");let t=document.querySelector(".e-card__category ul");e.clientHeight<=10?(e.style.height=`${t.getBoundingClientRect().height+e.clientHeight}px`,e.style.opacity=1,e.style.visibility="visible"):(e.style.height="0",setTimeout((()=>{e.style.opacity=0,e.style.visibility="hidden"}),300))}():m.target.classList.contains("e-card__category")||(l.style.height="0",setTimeout((()=>{l.style.opacity=0,l.style.visibility="hidden"}),300),d.classList.remove("rotate90")),m.target.classList.contains("e-card__category-item")){const e=document.querySelector(".e-card__category"),t=document.querySelector(".e-card__category p");e.style.outlineColor=Y()[m.target.textContent],t.textContent=m.target.textContent+""}if(m.target.classList.contains("e-card__cancel")&&(o.classList.add("pop-close"),c.classList.add("fade-out"),setTimeout((()=>{c.remove()}),550),n.setCheckLists(a),n.setTags(s)),m.target.classList.contains("e-card__close")&&(o.classList.add("pop-close"),c.classList.add("fade-out"),setTimeout((()=>{c.remove()}),550),n.setCheckLists(a),n.setTags(s)),m.target.classList.contains("e-card__save")&&(!function(e){let t=document.querySelector(".e-card__category p").textContent||document.querySelector(".e-card__category p").innerText,n=document.querySelector(".e-card__title").value,c="true"===document.querySelector(".e-card__status-value").value,o=document.querySelector(".e-card__date-value").value,a=document.querySelector(".e-card__priority-value").value,s=document.querySelector(".e-card__description-area textarea").value,l=Array.from(document.querySelectorAll(".e-card__tag-item")),r=[];l.forEach((e=>{r.push(e.textContent)}));let i=Array.from(document.querySelectorAll(".e-card__todo-item")),d=[];i.forEach((e=>{let t={};e.classList.contains("completed")?t.status=!1:t.status=!0,t.description=e.children[1].value,d.push(t)})),e.setTitle(n),e.setDescription(s),e.setDueDate(o),e.setPriority(a),e.setCategory(t),e.setStatus(c),e.setTags(r),d.length>0&&e.setCheckLists(d)}(n),ve(R?R():z()),o.classList.add("pop-close"),c.classList.add("fade-out"),setTimeout((()=>{c.remove()}),550)),m.target.classList.contains("e-card__delete")){N("Are you sure you want to delete this task?",!1,!1,"",(()=>{f.splice(e,1),ve(z()),c.remove()}),null,"Cancel")}if(m.target.classList.contains("tag-list-btn")?function(){document.querySelector(".tag-list-btn");const e=document.querySelector(".tag-list-btn .list");let t=document.querySelector(".tag-list-btn ul");e.clientHeight<=10?(e.style.height=`${t.getBoundingClientRect().height+e.clientHeight}px`,e.style.opacity=1,e.style.visibility="visible"):(e.style.height="0",setTimeout((()=>{e.style.opacity=0,e.style.visibility="hidden"}),300))}():m.target.classList.contains("tag-list-btn")||(r.style.height="0",setTimeout((()=>{r.style.opacity=0,r.style.visibility="hidden"}),300)),m.target.classList.contains("tag-list-item")){we();const e=document.querySelector(".e-card__tag-value");n.addTag(m.target.textContent),e.replaceChildren(),n.getTags().forEach(((n,c)=>{const o=document.createElement("span");if(o.classList="e-card__tag-item",o.textContent=n,c<5)e.append(o);else if(5===c){const n=document.createElement("span");n.classList="expand-tags ellipsis",t(n,i),e.appendChild(n)}})),r.style.height="0",setTimeout((()=>{r.style.opacity=0,r.style.visibility="hidden"}),300)}if(m.target.classList.contains("e-card__todo-check")){const e=m.target.parentNode.dataset.pos,t=document.querySelector(".e-card__todo-list"),c=n.getCheckLists();u();for(let n=c.length-1;n>=0;n--)if(e===c[n].uniqueId){c[n].status=!0!==c[n].status,t.replaceChildren();for(let e=c.length-1;e>=0;e--){const n=c[e];t.appendChild(_(n))}}}if(m.target.classList.contains("e-card__todo-delete")){const e=n.getCheckLists(),t=document.querySelector(".e-card__todo-list"),c=m.target.parentNode.dataset.pos;u();for(let n=0;n<e.length;n++)if(c===e[n].uniqueId){e.splice(n,1),t.replaceChildren();for(let n=e.length-1;n>=0;n--){const c=e[n];t.appendChild(_(c))}}}if(m.target.classList.contains("e-card__todo-add")){const e=n.getCheckLists(),t=document.querySelector(".e-card__todo-list");u(),n.addCheckList(),t.replaceChildren();for(let n=e.length-1;n>=0;n--){const c=e[n];t.appendChild(_(c))}}}))}function be(e){app.append(function(e,n,s,l){const r=document.createElement("div");r.classList="e-card-blur fade-in";const d=document.createElement("div");d.classList="e-card-bg pop-open",r.appendChild(d);const u=document.createElement("div"),m=document.createElement("p");u.appendChild(m);const p=document.createElement("span");t(p,c),u.appendChild(p),m.textContent=e.getCategory()||"Inbox",u.classList="e-card__category dropdown-select dropdown",u.style.outlineColor=`${n[e.getCategory()]}`||"#6aa7b3";const g=document.createElement("div");g.classList="list";const y=document.createElement("ul");y.classList="e-card__category-container",g.appendChild(y),function(e){const t=document.createElement("li");t.classList="e-card__category-item",t.textContent="Inbox",t.style.outlineColor=n[t.textContent],e.appendChild(t),s.forEach((t=>{const c=document.createElement("li");c.classList="e-card__category-item",c.textContent=t.getCategoryName(),c.style.outlineColor=n[c.textContent],e.appendChild(c)}))}(y),u.appendChild(g);const h=document.createElement("div");h.classList="e-card__close btn",t(h,"M6 18L18 6M6 6l12 12");const E=document.createElement("div");E.classList="e-card__header flex";const L=document.createElement("textarea");L.setAttribute("maxlength","60"),L.value=e.getTitle()||"",L.placeholder="Add Title",L.classList="e-card__title";const f=document.createElement("div");t(f,o),f.classList="e-card__edit btn";const C=document.createElement("div");t(C,a),C.classList="e-card__delete btn",E.append(L,f,C);const v=document.createElement("div");v.classList="e-card__status flex";const S=document.createElement("p");S.textContent="Status",S.classList="e-card__status-name";const x=document.createElement("select"),b=document.createElement("option");b.textContent="Pending",b.setAttribute("value","true");const q=document.createElement("option");q.textContent="Completed",q.setAttribute("value","false"),x.append(b,q),x.className="e-card__status-value",x.value=e.getStatus(),v.append(S,x);const k=document.createElement("div");k.classList="e-card__date flex";const T=document.createElement("p");T.textContent="Date",T.classList="e-card__date-name";const A=document.createElement("input");A.setAttribute("type","date"),A.value=e.getDueDate(),A.classList="e-card__date-value",k.append(T,A);const w=document.createElement("div");w.classList="e-card__tag flex";const I=document.createElement("p");I.textContent="Tags",I.classList="e-card__tag-name";const M=document.createElement("div");M.classList="e-card__tag-value flex";const N=e.getTags();for(let e=0;e<N.length;e++){const n=N[e],c=document.createElement("span");if(c.classList="e-card__tag-item",c.textContent=n,e<5)M.append(c);else if(5===e){const e=document.createElement("span");e.classList="expand-tags ellipsis",t(e,i),M.appendChild(e)}}const j=document.createElement("div");j.classList="tag-list-btn dropdown flex",t(j,"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z");const D=document.createElement("div");D.classList="list",j.appendChild(D),w.append(I,M,j),function(e){const t=document.createElement("ul");t.classList="e-card__tag-container";for(let e=0;e<l.length;e++){const n=l[e].getTagName(),c=document.createElement("li");c.textContent=n,t.append(c)}e.appendChild(t)}(D);const $=document.createElement("div");$.classList="e-card__priority flex";const H=document.createElement("p");H.textContent="Priority",H.classList="e-card__priority-name";const P=document.createElement("select"),B=document.createElement("option");B.textContent="None",B.setAttribute("value","");const O=document.createElement("option");O.textContent="Low",O.setAttribute("value","low");const V=document.createElement("option");V.textContent="Medium",V.setAttribute("value","medium");const U=document.createElement("option");U.textContent="High",U.setAttribute("value","high"),P.append(B,O,V,U),P.value=e.getPriority(),P.classList="e-card__priority-value",$.append(H,P);const z=document.createElement("h2");z.textContent="Description",z.classList="e-card__description-title";const R=document.createElement("div");R.classList="e-card__description-area";const J=document.createElement("textarea");J.value=e.getDescription()||"",J.placeholder="Add description",R.appendChild(J);const F=document.createElement("h2");F.textContent="Check List",F.classList="e-card__todo-title";const Y=document.createElement("button");Y.textContent="Add",Y.classList="e-card__todo-add";const W=document.createElement("div");W.classList="e-card__todo-list",function(e){for(let t=e.length-1;t>=0;t--){const n=e[t];W.appendChild(_(n))}}(e.getCheckLists());const G=document.createElement("div");G.classList="e-card__footer flex";const K=document.createElement("div");K.textContent=e.getCreationDate(),K.classList="e-card__project";const Q=document.createElement("button");Q.textContent="Cancel",Q.classList="e-card__cancel btn";const X=document.createElement("button");return X.textContent="Save",X.classList="e-card__save btn",G.append(K,Q,X),d.append(u,h,E,v,k,w,$,z,R,F,Y,W,G),r}(f[e],Y(),x,k)),xe(e)}function qe(e,t){e.forEach((e=>{e.classList.remove(t)}))}function ke(){const e=document.querySelectorAll(".project-ul li");qe(document.querySelectorAll(".tag-ul li"),"tag-selected"),qe(e,"selected-menu"),qe(W,"selected-menu")}function Te(){const e=document.querySelector(".project-ul-container");document.querySelector(".project-ul");e&&(e.style.display="none",X.style.marginBottom="25px")}function Ae(){document.querySelector(".tag-ul");const e=document.querySelector(".tags"),t=document.querySelector(".tag-ul-container");t&&(t.style.display="none",e.style.marginBottom="25px")}function we(){const e=document.querySelector(".aside");if(e.classList.contains("aside-pop")){e.classList="aside aside-pop slide-out",setTimeout((()=>{e.style.display="none"}),550);let t=document.querySelector(".empty-bg");t.style.display="none",t.remove()}}ce.addEventListener("click",(()=>{J()})),G.addEventListener("click",(()=>{we(),ye(f)})),K.addEventListener("click",(()=>{we(),he(f)})),Q.addEventListener("click",(()=>{we(),function(e){F="Inbox",ke(),Ae(),Te(),ne.textContent="Inbox",Q.classList.add("selected-menu");J=function(){C().createTodoItem(),be(f.length-1),Se(f[f.length-1])},z=()=>e.filter((e=>"Inbox"===e.getCategory())),ve(z())}(f)})),X.addEventListener("click",(()=>{!function(e){const t=document.querySelector(".project-ul"),n=document.querySelector(".add-project-btn"),c=document.querySelector(".project-ul-container");Ae(),"none"===c.style.display?(c.style.display="block",n.style.marginTop=t.getBoundingClientRect().height+10+"px",X.style.marginBottom="15px",Le()):(c.style.display="none",X.style.marginBottom="25px")}()})),Z.addEventListener("click",(()=>{!function(e){const t=document.querySelector(".tag-ul"),n=document.querySelector(".add-tag-btn"),c=document.querySelector(".tag-ul-container");Te(),"none"===c.style.display?(c.style.display="block",n.style.marginTop=t.getBoundingClientRect().height+10+"px",Z.style.marginBottom="15px",Ce()):(c.style.display="none",Z.style.marginBottom="25px")}()})),te.addEventListener("input",(e=>{!function(e){const t=document.querySelector(".sort-time"),n=document.querySelector(".btn-div"),c=e.target.value.toLowerCase(),o=()=>f.filter((e=>e.getTitle().toLowerCase().includes(c)||e.getDescription().toLowerCase().includes(c)));""===c?(ne.textContent=F,t.style.display="",n.style.display="",R=!1,ve(z())):(t.style.display="none",n.style.display="none",ne.textContent="Search Result",R=o,ve(R()))}(e)})),ee.addEventListener("click",(e=>{we(),app.append(function(e,n,c,a){const s=document.createElement("div");s.classList="settings-page-bg";const l=document.createElement("div");l.classList="settings__header";const r=document.createElement("div");r.classList="settings__header-logo";const i=document.createElement("h1");i.textContent="Settings",r.append(i);const d=document.createElement("div");d.classList="settings__header-close",t(d,"M6 18L18 6M6 6l12 12"),l.append(r,d);const u=document.createElement("div");u.classList="settings__body";const m=document.createElement("div");m.classList="settings__user-info";const p=document.createElement("div");p.classList="settings__picture";const g=new Image;p.append(g);const y=document.createElement("div");y.classList="settings__name";const h=document.createElement("h1"),_=document.createElement("div"),f=document.createElement("div");f.classList="settings__picture-edit btn",t(f,o);const C=document.createElement("p");C.textContent="Picture",f.append(C);const v=document.createElement("div");v.classList="settings__name-edit btn",t(v,o);const S=document.createElement("p");S.textContent="Name",v.append(S),_.append(f,v),y.append(h,_),m.append(p,y);const x=document.createElement("div");x.classList="settings__color-select";const b=document.createElement("h3");b.textContent="Accent Color";const q=document.createElement("div");q.classList="color-select__color btn",q.setAttribute("data-accent","1");const k=document.createElement("div"),T=document.createElement("p");q.append(k,T);const A=document.createElement("div");A.classList="color-select__color btn",A.setAttribute("data-accent","2");const w=document.createElement("div"),I=document.createElement("p");A.append(w,I);const M=document.createElement("div");M.classList="color-select__color btn",M.setAttribute("data-accent","3");const N=document.createElement("div"),j=document.createElement("p");M.append(N,j);const D=document.createElement("div");D.classList="color-select__color btn",D.setAttribute("data-accent","4");const $=document.createElement("div"),H=document.createElement("p");D.append($,H);const P=document.createElement("div");P.classList="color-select__color btn",P.setAttribute("data-accent","5");const B=document.createElement("div"),O=document.createElement("p");P.append(B,O);const V=document.createElement("div");V.append(q,A,M,D,P),x.append(b,V);const U=document.createElement("div");U.classList="settings-upper-page",U.append(m,x);const z=document.createElement("div");z.classList="settings__project";const R=document.createElement("h2");R.textContent="Projects";const J=document.createElement("div");J.classList="settings__project-list",J.append(E(e,n,a)),z.append(R,J);const F=document.createElement("div");F.classList="settings__tag";const Y=document.createElement("h2");Y.textContent="Tags";const W=document.createElement("div");W.classList="settings__tag-list",document.createElement("div").classList="settings__tag-item",F.append(Y,W),W.append(L(c,a));const G=document.createElement("div");G.classList="settings-lower-page",G.append(z,F);const K=document.createElement("div");K.classList="settings-reset-page";const Q=document.createElement("button");return Q.classList="btn settings__reset-button",Q.textContent="Reset Data",K.append(Q),u.append(U,G,K),s.append(l,u),s}(Y(),x,k,f));let n=JSON.parse(localStorage.getItem(localStorage.getItem("active")));document.querySelector(".settings__picture img").src=n.picture,document.querySelector(".settings__name h1").textContent=n.name;let c=document.querySelector('[data-accent="1"]'),a=document.querySelector('[data-accent="2"]'),s=document.querySelector('[data-accent="3"]'),l=document.querySelector('[data-accent="4"]'),r=document.querySelector('[data-accent="5"]');document.querySelector(`[data-accent="${n.color}"]`).classList.add("color-selected"),c.style.backgroundColor=Ie[0].color1,a.style.backgroundColor=Ie[1].color1,s.style.backgroundColor=Ie[2].color1,l.style.backgroundColor=Ie[3].color1,r.style.backgroundColor=Ie[4].color1;let i=document.querySelector(".settings-page-bg");i.addEventListener("click",(e=>{e.target.classList.contains("settings__header-close")&&i.remove()}))})),document.querySelector(".project-okay-btn").addEventListener("click",(function(){document.querySelector(".project-ul");let e=document.querySelector(".add-project-btn .add-input").value,t=document.querySelector(".add-project-btn .color-selector").value;b().createCategory(e,t),_e(x),Le(),le()})),document.querySelector(".tag-okay-btn").addEventListener("click",(function(e){document.querySelector(".tag-ul");let t=document.querySelector(".add-tag-btn .add-input").value;T().createTag(t),fe(k),Ce(),le()})),document.querySelector(".completed-tasks-list .list-heading").addEventListener("click",(()=>{let e=document.querySelector(".completed-tasks"),t=document.querySelector(".completed-tasks-list");document.querySelector(".completed-icon .span-icon").classList.toggle("rotate90"),45===t.clientHeight?t.style.height=55+e.getBoundingClientRect().height+"px":t.style.height="45px"}));const Ie=[{color1:"#6aa7b3",color1a:"106, 167, 179",color2:"#f5f5f5"},{color1:"#71d400",color1a:"113, 212, 0",color2:"var(--bg-color)"},{color1:"#0063d4",color1a:"0, 99, 212",color2:"#f5f5f5"},{color1:"#6e4458",color1a:"110, 68, 88",color2:"#f5f5f5"},{color1:"#c3807a",color1a:"195, 128, 122",color2:"#f5f5f5"}];let Me={demo:"Demo Person",user1:"New User 1",user2:"New User 2"};function Ne(e){const t=document.querySelector("html"),n=Ie[Number(e)-1];t.style.setProperty("--color-3",`${n.color1}`),t.style.setProperty("--color-3-t",`${n.color1a}`),t.style.setProperty("--color-5",`${n.color2}`)}let je=function(){let e={},t=[],n=[],c=[];for(let e=0;e<10;e++){const n=T().createTag(`Tag ${e+1}`);t.push(n)}for(let e=0;e<5;e++){let t=b().createCategory(`Cate ${e+1}`);n.push(t)}for(let e=0;e<10;e++){const o=n[Math.floor(Math.random()*n.length)];let a=["low","medium","high"][Math.floor(3*Math.random())];const s=C().createTodoItem();s.setPriority(a),s.setCategory(o.getCategoryName()),s.setTitle(`Task ${e+1}`);for(let e=0;e<5;e++)s.addCheckList(`CheckList ${e+1}`);for(let e=0;e<4;e++)s.addTag(t[Math.floor(Math.random()*t.length)].getTagName());c.push(s)}return e.tagArray=t,e.categoryArray=n,e.todoArray=c,e.id="demo",e.name="Demo Person",e.picture=A,e.theme="system",e.color="1",e}();const De={id:"user1",name:"New User 1",picture:w,theme:"system",color:"2",tagArray:[T().createTag("Home"),T().createTag("Art"),T().createTag("Love"),T().createTag("Personal")],categoryArray:[b().createCategory("doList","red"),b().createCategory("Development","blue"),b().createCategory("Office","green"),b().createCategory("Personal","yellow")],todoArray:[]},$e={id:"user2",name:"New User 2",picture:I,theme:"system",color:"3",tagArray:[T().createTag("Home"),T().createTag("Art"),T().createTag("Love"),T().createTag("Personal")],categoryArray:[b().createCategory("doList","red"),b().createCategory("Development","blue"),b().createCategory("Office","green"),b().createCategory("Personal","yellow")],todoArray:[]};let He={active:"demo",demo:je,user1:De,user2:$e};function Pe(e){x=[],k=[],f=[],Me.id=e.id,Me.picture=e.picture,Me.theme=e.theme,Me.name=e.name,Me.color=e.color;let t=document.querySelector(".user-name p"),n=document.querySelector(".user-picture img");t.textContent=e.name,n.src=e.picture,Ne(e.color),ue(e.theme),C().setTodoItemList(e.todoArray),b().setCategories(e.categoryArray),T().setTags(e.tagArray),localStorage.setItem("active",`${e.id}`),localStorage.setItem(`${e.id}`,JSON.stringify(Ve()))}function Be(){let e=localStorage.getItem(localStorage.getItem("active"));if(e){!function(e){Me.id=e.id,Me.theme=e.theme,Me.picture=e.picture,Me.color=e.color,Me.name=e.name;let t=[],n=[],c=[],o=e.tags;for(let e=0;e<o.length;e++){const n=o[e],c=T().createTag(n);t.push(c)}let a=e.categories;for(let e=0;e<a.length;e++){const t=a[e].catName,c=a[e].catColor,o=b().createCategory(t,c);n.push(o)}let s=e.todoItems;for(let e=0;e<s.length;e++){const t=s[e];let n=[],o=[];const a=t.checkList;for(let e=0;e<a.length;e++){let t={};const c=a[e];t.description=c.description,t.status=c.status,t.uniqueId=c.uniqueId,n.push(t)}let l=t.tags;for(let e=0;e<l.length;e++){const t=l[e];o.push(t)}let r=t.title,i=t.description,d=t.dueDate,u=t.creationDate,m=t.priority,p=t.category,g=t.note,y=t.status,h=t.uniqueId;const _=C().createTodoItem();_.setUniqueId(h),_.setStatus(y),_.setTitle(r),_.setDescription(i),_.setDueDate(d),_.setCreationDate(u),_.setPriority(m),_.setTags(o),_.setCategory(p),_.setNote(g),_.setCheckLists(n),c.push(_)}let l=document.querySelector(".user-name p"),r=document.querySelector(".user-picture img");l.textContent=e.name,r.src=e.picture,Ne(e.color),ue(e.theme),C().setTodoItemList(c),b().setCategories(n),T().setTags(t)}(JSON.parse(e)),he(f),_e(x),fe(k),Oe()}else Pe(He[He.active]),Oe(),he(f),_e(x),fe(k),Oe()}function Oe(){let e=localStorage.getItem("demo"),t=localStorage.getItem("user1"),n=localStorage.getItem("user2");if(e){let t=JSON.parse(e);Me.demo=t.name}if(t){let e=JSON.parse(t);Me.user1=e.name}if(n){let e=JSON.parse(n);Me.user2=e.name}document.querySelector('[data-user="demo"]').textContent=Me.demo,document.querySelector('[data-user="user1"]').textContent=Me.user1,document.querySelector('[data-user="user2"] ').textContent=Me.user2;let c=document.querySelector(".user-picture img");document.querySelector(".user-name p").textContent=Me.name,c.src=Me.picture,Ne(Me.color)}function Ve(){let e={},t=[],n=[],c=[];e.id=Me.id,e.name=Me.name,e.picture=Me.picture,e.color=Me.color,e.theme=(()=>{let e=document.querySelector(".theme-icon");return e.classList.contains("theme-system")?"system":e.classList.contains("theme-light")?"light":"dark"})(),Me.theme=e.theme;for(let e=0;e<k.length;e++){const n=k[e].getTagName();t.push(n)}for(let e=0;e<x.length;e++){const t=x[e].getCategoryName(),c=x[e].getCategoryColor();n.push({catName:t,catColor:c})}for(let e=0;e<f.length;e++){const t=f[e];let n={},o=[],a=[];const s=t.getCheckLists();for(let e=0;e<s.length;e++){let t={};const n=s[e];t.description=n.description,t.status=n.status,t.uniqueId=n.uniqueId,o.push(t)}let l=t.getTags();for(let e=0;e<l.length;e++){const t=l[e];a.push(t)}n.title=t.getTitle(),n.description=t.getDescription(),n.dueDate=t.getDueDate(),n.creationDate=t.getCreationDate(),n.priority=t.getPriority(),n.category=t.getCategory(),n.note=t.getNote(),n.status=t.getStatus(),n.uniqueId=t.getUniqueId(),n.checkList=o,n.tags=a,c.push(n)}return e.tags=t,e.categories=n,e.todoItems=c,e}localStorage.getItem("active");Be(),window.addEventListener("storage",(()=>{he(f)}))})();